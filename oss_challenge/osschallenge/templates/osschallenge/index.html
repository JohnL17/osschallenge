{% load staticfiles %}
{% load i18n %}

<html>
    <head>
        <link rel="stylesheet" type="text/css" href="{% static 'osschallenge/stylesheet.css'%}"/>
        <link rel="stylesheet" type="text/css" href="{% static 'osschallenge/adcssy.css'%}"/>
        <link rel="stylesheet" href="{% static 'osschallenge/font-awesome.min.css'%}"/>
        <title>OSS-Challenge {% block title %}{% endblock title %}</title>
    </head>
    <body class="page">
        <div class="page-viewport">
            <nav class="nav-side">
                <header class="nav-side-header">
                    <button class="nav-toggle nav-side-toggle" onclick="this.parentNode.parentNode.classList.toggle('nav-side--expand')">
                        <span class="nav-toggle-icon"></span>
                    </button>
                    <a href="/">
                        <div class="nav-side-header-logo"><img src="{% static "osschallenge/adsy.png" %}"/></div>
                        <div class="nav-side-header-title">OSS-Challenge</div>
                    </a>
                </header>
                <form action="{% url 'set_language' %}" method="post">{% csrf_token %}
                    <input name="next" type="hidden" value="{{ redirect_to }}" />
                    <select name="language">
                        {% get_current_language as LANGUAGE_CODE %}
                        {% get_available_languages as LANGUAGES %}
                        {% get_language_info_list for LANGUAGES as languages %}
                        {% for language in languages %}
                        <option value="{{ language.code }}"{% if language.code == LANGUAGE_CODE %} selected="selected"{% endif %}>
                        {{ language.name_local }} ({{ language.code }})
                        </option>
                        {% endfor %}
                    </select>
                    <input type="submit" value="Go" />
                </form>
                <section class="nav-side-body">
                    <ul class="nav-side-list">
                    {% if user.is_authenticated %}
                        <li class="nav-side-list-item">
                            <a href="/projects">{% trans "Projects" %}</a>
                        </li>
                        <li class="nav-side-list-item">
                            <a href="/tasks">{% trans "Tasks" %}</a>
                        </li>
                        <li class="nav-side-list-item">
                            <a href="/ranking">{% trans "Ranking" %}</a>
                        </li>
                        <li class="nav-side-list-item">
                            <a href="/">{% trans "About" %}</a>
                        </li>
                        <br />
                        <li class="nav-side-list-item">
                            <a href="/profile">{% trans "Profile" %}</a>
                        </li>
                        <li class="nav-side-list-item">
                            <a href="/logout">Logout</a>
                        </li>
                        {% else %}
                        <li class="nav-side-list-item">
                            <a href="/projects">{% trans "Projects" %}</a>
                        </li>
                        <li class="nav-side-list-item">
                            <a href="/tasks">{% trans "Tasks" %}</a>
                        </li>
                        <li class="nav-side-list-item">
                            <a href="/ranking">{% trans "Ranking" %}</a>
                        </li>
                        <li class="nav-side-list-item">
                            <a href="/">{% trans "About" %}</a>
                        </li>
                        <br />
                        <li class="nav-side-list-item">
                            <a href="/login">Login</a>
                        </li>
                        <li class="nav-side-list-item">
                            <a href="/register">{% trans "Register" %}</a>
                        </li>
                        {% endif %}
                    </ul>
                </section>
            </nav>
            {% block content %}
            {% endblock content %}
            </div>
            <div class="page-main-overlay" onclick="this.previousElementSibling.previousElementSibling.classList.toggle('nav-side--expand')"></div>
        </div>
        <!--<div class="footer">
        </div> -->
        </div>
    </body>
</html>
